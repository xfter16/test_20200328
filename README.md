# Тестовое задание для back-end

Описание:

Необходимо реализовать мини сервис REST API для работы с продажей лицензий юридической компании. Лицензии выписываются по определенному тарифу.

Задача:

1. Сервис должен иметь авторизацию используя Bearer токен. Токены хранятся в отдельной таблице, создаются при каждом заходе и действительны 15 минут, после каждого обращения к API жизнь токена необходимо продлевать.

2. Создать сущность тарифа, имеющую поля name, code_name и cost. Кодовое имя должно транслетироваться автоматически при записи в базу данных и быть уникальным. Стоимость тарифа по умолчанию является годовой стоимостью действия выписанной по ней лицензии. Задача - реализовать запросы GET, POST и DELETE

3. Создать сущность лицензии. Каждая лицензия связана с тарифом, имеет дату начала и окончания действия. При выписке лицензии реализовать возможность ей быть выписанной на срок кратный месяцу (с расчетом цены по тарифу), начало действия и окончание лицензии должны быть заданы автоматически. Задача - реализовать запросы GET, POST и DELETE

4. Реализовать поиск по лицензиям по названию без учета регистра и разницы между буквами е и ё, а также поиск по диапазону дат начала и окончания действия лицензии (по любому из них или по обоим вместе).

Требования:

1. Использовать фреймворк AdonisJS (https://adonisjs.com).

2. Использовать БД PostgreSQL.

3. Все сущности должны иметь миграции и модели.

4. Для сущностей тарифа и лицензии реализовать CRUD, для работы с базой использовать паттерн проектирования Repository для всех сущностей.

5. Для реализации поиска по лицензиям использовать паттерн проектирования Service Layer.

Дополнительная информация:

На тестовое задание отводится около 5-ти часов чистого времени. Все необходимые для реализации пакеты можно найти в документации к cd te  

# Adonis fullstack application

This is the fullstack boilerplate for AdonisJs, it comes pre-configured with.

1. Bodyparser
2. Session
3. Authentication
4. Web security middleware
5. CORS
6. Edge template engine
7. Lucid ORM
8. Migrations and seeds

## Setup

Use the adonis command to install the blueprint

```bash
adonis new yardstick
```

or manually clone the repo and then run `npm install`.


### Migrations

Run the following command to run startup migrations.

```js
adonis migration:run
```
